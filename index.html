<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <title>🥚 EggVerse Hunter - NFT Gacha Game</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container">
    <div class="left-panel">
      <!-- Header -->
      <h1>🥚 EggVerse Hunter</h1>
      
      <!-- Stats Panel -->
      <div id="stats">
        <div class="stat-grid">
          <div class="stat-item level-highlight">
            <span>⭐ Level</span>
            <span id="level" class="stat-value level-value">1</span>
          </div>
          <div class="stat-item">
            <span>👆 Total Clicks</span>
            <span id="totalClicks" class="stat-value">0</span>
          </div>
        </div>
        
        <!-- EXP Progress Bar -->
        <div class="exp-container">
          <div class="exp-label">✨ EXP Progress</div>
          <div class="exp-bar">
            <div class="exp-fill" id="expBar"></div>
            <span class="exp-text" id="expText">0 / 100</span>
          </div>
        </div>
        
        <!-- Ticket Progress Bar -->
        <div class="ticket-container">
          <div class="ticket-label">🎫 Next Ticket</div>
          <div class="ticket-bar">
            <div class="ticket-fill" id="ticketBar"></div>
            <span class="ticket-text" id="ticketText">1000 clicks remaining</span>
          </div>
        </div>
      </div>

      <!-- Combo Display (Fixed Space) -->
      <div class="combo-container">
      <div id="comboDisplay" style="visibility:hidden;">
        <div class="combo-info">
          <span class="combo-count">🔥 0x COMBO</span>
          <span class="combo-bonus">+0.00% Luck</span>
        </div>
      </div>
    </div>

    <!-- Rarity Display -->
    <div id="rarityBar">Start hunting to discover rare eggs!</div>

    <!-- Controls -->
    <div class="controls">
      <button id="clickBtn">🎯 Hunt Eggs!</button>
      <button id="gachaBtn">🎰 Open Gacha (0)</button>
      <button id="dexToggle" onclick="UI.toggleCodex()">📖 Egg Codex</button>
      <button id="rulesToggle" onclick="UI.toggleRules()">❓ Game Rules</button>
    </div>

    <!-- Game Rules Modal -->
    <div id="rulesModal" class="modal" style="display:none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>❓ Game Rules</h3>
          <span class="close-btn" onclick="UI.toggleRules()">&times;</span>
        </div>
        <div class="rules-content">
          <p>🥚 <strong>Hunt Eggs:</strong> Click to gain experience and discover eggs</p>
          <p>⭐ <strong>Level Up:</strong> Gain EXP to increase your level and unlock features</p>
          <p>💎 <strong>Rarity System:</strong> 8 tiers from COMMON to GALACTIC</p>
          <p>🎫 <strong>Tickets:</strong> Earn every 1000 clicks for guaranteed gacha</p>
          <p>✨ <strong>Lucky Drops:</strong> Instant eggs while hunting (chance increases with combo)</p>
          <p>🔥 <strong>Combo System:</strong> Chain clicks for lucky bonus up to 0.4% & 50% EXP bonus</p>
          <p>😴 <strong>Idle Rewards:</strong> Level 3 unlock - Get rewards when away!</p>
          <p>🎁 <strong>Level Rewards:</strong> Special bonuses at certain milestone levels</p>
          
          <div class="exp-table">
            <h4>💰 EXP Rewards:</h4>
            <div class="exp-grid">
              <span style="color: #9e9e9e">COMMON: +1</span>
              <span style="color: #4caf50">UNCOMMON: +3</span>
              <span style="color: #2196f3">RARE: +8</span>
              <span style="color: #9c27b0">EPIC: +20</span>
              <span style="color: #ff9800">UNIQUE: +60</span>
              <span style="color: #f44336">LEGENDARY: +200</span>
              <span style="color: #e91e63">MYSTIC: +600</span>
              <span style="color: #673ab7">GALACTIC: +2000</span>
            </div>
          </div>
          
          <div class="shortcuts">
            <h4>⌨️ Keyboard Shortcuts:</h4>
            <div class="shortcut-grid" style="font-family: 'Orbitron', monospace;">
              <span>SPACE = Hunt</span>
              <span>G = Gacha</span>
              <span>D = Codex</span>
              <span>R = Rules</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Egg Codex Modal -->
    <div id="codexModal" class="modal" style="display:none !important">
      <div class="modal-content">
        <div class="modal-header">
          <h3>🔍 Egg Codex</h3>
          <span class="close-btn" onclick="UI.toggleCodex()">&times;</span>
        </div>
        <div id="codexProgress">Progress: 0/40 (0%)</div>
        <div id="codexContent" class="codex-scroll"></div>
      </div>
    </div>

    <div class="right-panel">
      <!-- Gacha Animation Container -->
      <div class="gacha-animation-container"></div>

      <!-- Egg Collection -->
      <div id="eggBox"></div>
    </div>
  </div>

  <!-- Load Scripts -->
  <script src="js/data.js"></script>
  <script src="js/game.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/gacha.js"></script>
  <script src="js/main.js"></script>
  <script src="js/debug.js"></script>
</body>
</html>
